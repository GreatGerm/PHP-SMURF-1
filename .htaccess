RewriteEngine on
RewriteBase /

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} !=/favicon.ico
RewriteCond %{REQUEST_FILENAME} !.gzip [NC]
RewriteRule ^(.*)$ index.php?page=$1 [L,QSA]

RewriteCond %{REQUEST_FILENAME} .css.gzip [NC]
RewriteRule ^(.*).css.gzip$ /includes/cssCompressor.php?file=$1.css

RewriteCond %{REQUEST_FILENAME} .js.gzip [NC]
RewriteRule ^(.*).js.gzip$ /includes/jsCompressor.php?file=$1.js

# Don't show directory listings for URLs which map to a directory.
Options -Indexes

# Set the default handler.
DirectoryIndex index.php

# Make the CMS handle any 404 errors.
ErrorDocument 404 /index.php

# Follow symbolic links in this directory.
Options +FollowSymLinks